<LessonDrawer>:

	orientation: 'vertical'

	Button:
		text: 'Favorite'
		on_release: app.add_to_favorite(root)
		size_hint_y: 0.1

	AsyncImage:
		id: lesson_image
		source: root.source

	MDLabel:
		id: lesson_description
		text: root.description
		font_name: app.font_name
		size_hint_y: .2
		font_size: 20
		halign: 'center'

	Button:
		text: 'Next'
		on_release: app.lesson_next_button(self, root.lesson_sources, root.lesson_descriptions)
		size_hint_y: .2

<LessonsHomeWidget>:
	cols: 1
	height: app.window
	size_hint_y: None
	height: self.minimum_height
	spacing: 20


<LessonsMoreWidget>:
	cols: 1
    # height: app.window
    # size_hint_y: None
	# height: self.minimum_height
    spacing: 0

	#Type code here#

<TestsBackButton>:

	text: 'Go back'
	size_hint_y: None
	height: 60
	on_release:
		app.tests_back_button(self)


<LessonsBackButton>:

	text: ' '
	icon: 'arrow-left-bold-circle'
	size_hint_y: 0.05
	on_release:
		app.lessons_back_button(self)


<TestsHomeWidget>:
	
	cols: 1
	height: app.window
	size_hint_y: None
	height: self.minimum_height
	spacing: 20



<TestMoreWidget>:
	cols: 1

	# size_hint_y: None
	# height: self.minimum_height
	spacing: 0

<LastTestWidget>:
 
	orientation: 'vertical'

	MDToolbar:
		left_action_items: [["arrow-left", lambda x: app.tests_back_button(self)]]


	MDLabel:

		text: root.answers
		font_size: '200sp'
		halign: 'center'
		



<TestDrawer>:
	
	orientation: 'vertical'
	

	MDLabel:
		text: "True answers " + root.count
		size_hint_y: .1
		halign: 'center'

	AsyncImage:
		id: test_image
		source: root.source


	GridLayout:
		id: options_layout
		cols: 2
		size_hint_y: .5
		background_disabled_normal: ''

		MDRoundFlatButton:
			size_hint_x: .5
			size_hint_y: 1
			id: button_1
			font_name: app.font_name
			text: root.options[0]
			on_release: app.check_answer(self, root.true_answer, root, root.test_names, root.test_sources)

		MDRoundFlatButton: 
			size_hint_x: .5
			size_hint_y: 1
			id: button_2
			font_name: app.font_name
			text: root.options[1]
			on_release: app.check_answer(self, root.true_answer, root, root.test_names, root.test_sources)


		MDRoundFlatButton: 
			size_hint_x: .5
			size_hint_y: 1
			id: button_3
			font_name: app.font_name
			text: root.options[2]
			on_release: app.check_answer(self, root.true_answer, root, root.test_names, root.test_sources)

		MDRoundFlatButton: 
			size_hint_x: .5
			size_hint_y: 1
			id: button_4
			font_name: app.font_name
			text: root.options[3]
			on_release: app.check_answer(self, root.true_answer, root, root.test_names, root.test_sources)

	MDRoundFlatButton:
		text: 'Next'
		md_bg_color_disabled : 'red'
		on_release: app.test_next_button(self, root.test_names, root.test_sources)
		size_hint_y: .2
		



<RootWidget>:
	id: manager

	Screen:
		name: 'home_screen'

		MDBottomNavigation:
			id: bottom_navigation



			MDBottomNavigationItem:  							#Lessons item
				name: 'lessons_item'
				id: lessons_bottom_navigation_item
				text: 'Lessons'

				ScreenManager:  							#Lessons item screenmanager
					id: lessons_screens_manager

					Screen:   	
					

						canvas.before:
							Color:
								rgba: rgba('#0e1574ff')
							Triangle:
								points: [0, self.size[1], self.size[0], self.size[1], 0, self.size[1] - (.5*self.size[1])]							#Lessons first screen

						name: 'lessons_home_screen'
						id: lessons_home_screen

						MDBoxLayout:


							orientation: 'vertical'
							MDToolbar:
								id: lessons_home_toolbar
								size_hint_y: .1
								text: 'Toolbar'

							ScrollView:
								do_scroll_x: False
								do_scroll_y: True
								
								LessonsHomeWidget: 					#Lessons home widget
									id: lessons_home_widget

					Screen:  								#Lessons second screen

						name: 'lessons_more_screen'
						id: lessons_more_screen


						MDBoxLayout: 
							orientation: 'vertical'

							MDToolbar:
								left_action_items: [["arrow-left", lambda x: app.lessons_back_button(self)]]

							LessonsMoreWidget: 					#Lessons more widget
								id: lessons_more_widget




			MDBottomNavigationItem:
				name: 'tests_item'
				id: tests_bottom_navigation_item
				text: 'Tests'

				ScreenManager:
					id: test_screens_manager

					Screen:
						name: 'tests_home_screen'
						id: tests_home_screen


						ScrollView:
							do_scroll_x: False
							do_scroll_y: True

							TestsHomeWidget:

								id: tests_home_widget


					Screen:


						name: 'tests_more_screen'
						id: 'tests_more_screen'

						MDBoxLayout:

							orientation: 'vertical'	
							
							MDToolbar:
								left_action_items: [["arrow-left", lambda x: app.tests_back_button(self)]]

							ScrollView:

								do_scroll_x: False
								do_scroll_y: True

								TestMoreWidget:
									id: test_more_widget

					Screen:

						name: 'tests_last_screen'
						id: tests_last_screen


			MDBottomNavigationItem:
				name: 'settings_item'
				id: settings_bottom_navigation_item
				text: 'Settings'

				MDRectangleFlatIconButton:
    				icon: "theme-light-dark"
    				text: "Change theme"
					pos_hint:{"top":1}
					size_hint_x: 1
					size_hint_y: .1
					on_release: app.change_theme(self)
				
				


RootWidget:

				
