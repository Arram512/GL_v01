<LessonDrawer>:

	orientation: 'vertical'
	spacing: 20

	Image:
		id: lesson_image
		source: root.source
		size_hint_y: .7
		size_hint_x: .9
		allow_stretch: True
		keep_ratio: False
		pos_hint: {'center_x': 0.5}

	MDLabel:
		id: lesson_description
		text: root.name + '\n' + root.description
		font_name: app.font_name
		font_size: 50
		size_hint_y: .3
		halign: 'center'

	MDBoxLayout:
		orientation: 'horizontal'
		size_hint_y: .3

		MDRectangleFlatIconButton:
			id: lesson_previouse_button
			font_name: app.font_name
			icon: ''
			text: 'Նախորդը'
			font_size: 60
			on_release: app.lesson_callback(self, root.lesson_sources, root.lesson_descriptions, root.lesson_names, root , root.iterator - 1, root.title)
			size_hint_x: .5
			
		MDRectangleFlatIconButton:
			id: lesson_next_button
			font_name: app.font_name
			icon: ''
			text: 'Հաջորդը'
			font_size: 60
			on_release: app.lesson_callback(self,root.lesson_sources, root.lesson_descriptions, root.lesson_names, root,  root.iterator + 1, root.title)
			size_hint_x: .5
	
	MDRectangleFlatIconButton:
		icon: 'heart-outline'
		font_name: app.font_name
		text: 'Դարձնել ֆավորիտ'
		font_size: 60
		on_release: app.add_to_favorite(root)
		size_hint_x: 1
		pos_hint: {'center_x': .5}

<LessonsHomeWidget>:
	cols: 1
	height: app.window
	size_hint_y: None
	height: self.minimum_height
	spacing: 20


<LessonsMoreWidget>:
	cols: 1
    # height: app.window
    # size_hint_y: None
	# height: self.minimum_height
    spacing: 0

	#Type code here#

<TestsBackButton>:

	text: 'Go back'
	size_hint_y: None
	height: 60
	on_release:
		app.tests_back_button(self)


<LessonsBackButton>:

	text: ' '
	icon: 'arrow-left-bold-circle'
	size_hint_y: 0.05
	on_release:
		app.lessons_back_button(self)


<TestsHomeWidget>:
	
	cols: 1
	height: app.window
	size_hint_y: None
	height: self.minimum_height
	spacing: 20



<TestMoreWidget>:
	cols: 1

	# size_hint_y: None
	# height: self.minimum_height
	spacing: 0

<LastTestWidget>:
 
	orientation: 'vertical'

	MDToolbar:
		left_action_items: [["arrow-left", lambda x: app.tests_back_button(self)]]


	MDLabel:

		text: root.answers
		font_size: '200sp'
		halign: 'center'
		



<TestDrawer>:
	
	orientation: 'vertical'
	

	MDLabel:
		text: "True answers " + root.count
		size_hint_y: .1
		halign: 'center'

	Image:
		id: test_image
		source: root.source
		size_hint_y: .7
		size_hint_x: .9
		allow_stretch: True
		keep_ratio: False
		pos_hint: {'center_x': 0.5}


	GridLayout:
		id: options_layout
		cols: 2
		size_hint_y: .5
		background_disabled_normal: ''

		MDRoundFlatButton:
			size_hint_x: .5
			size_hint_y: 1
			id: button_1
			font_size: 60
			font_name: app.font_name
			text: root.options[0]
			on_release: app.check_answer(self, root.true_answer, root, root.test_names, root.test_sources)

		MDRoundFlatButton: 
			size_hint_x: .5
			size_hint_y: 1
			id: button_2
			font_size: 60
			font_name: app.font_name
			text: root.options[1]
			on_release: app.check_answer(self, root.true_answer, root, root.test_names, root.test_sources)


		MDRoundFlatButton: 
			size_hint_x: .5
			size_hint_y: 1
			id: button_3
			font_size: 60
			font_name: app.font_name
			text: root.options[2]
			on_release: app.check_answer(self, root.true_answer, root, root.test_names, root.test_sources)

		MDRoundFlatButton: 
			size_hint_x: .5
			size_hint_y: 1
			id: button_4
			font_size: 60
			font_name: app.font_name
			text: root.options[3]
			on_release: app.check_answer(self, root.true_answer, root, root.test_names, root.test_sources)

	MDRoundFlatButton:
		font_name: app.font_name
		text: 'Հաջորդը'
		font_size: 55
		on_release: app.test_callback(self, root.test_sources, root.test_names, root.iterator + 1, root.title)
		size_hint_y: .2
		size_hint_x: 1


<FavoritesDrawer>:

	orientation: 'vertical'


	Image:
		id: favorite_image
		source: root.source
		size_hint_y: .7
		size_hint_x: .9
		allow_stretch: True
		keep_ratio: False
		pos_hint: {'center_x': 0.5}


	MDLabel:
		id: favorite_name
		font_name: app.font_name
		text: root.name + '\n'+ '\n' + root.description
		font_size: 50
		size_hint_y: .3

	MDBoxLayout:
		orientation: 'horizontal'

		size_hint_y: .3

		MDRectangleFlatButton:
			id: favorite_previouse_button
			font_name: app.font_name
			text: 'Նախորդը'
			font_size: 55
			on_press: app.favorite_callback(root.sources, root.names, root.descriptions, root,  root.iterator - 1)
			size_hint_x: .5

		MDRectangleFlatButton:

			id: favorite_next_button
			font_name: app.font_name
			text: 'Հաջորդը'
			font_size: 55
			on_press: app.favorite_callback(root.sources, root.names, root.descriptions, root,  root.iterator + 1)
			size_hint_x: .5

		
	MDRectangleFlatIconButton:
		icon: 'close-circle'
		font_name: app.font_name
		text: 'Հեռացնել'
		font_size: 55
		on_release: app.delete_from_favorite(root.name)
		size_hint_x: 1
		pos_hint: {'center_x': .5}




<RootWidget>:
	id: manager

	Screen:
		name: 'home_screen'

		MDBottomNavigation:
			id: bottom_navigation



			MDBottomNavigationItem:  							#Lessons item
				name: 'lessons_item'
				id: lessons_bottom_navigation_item
				text: 'Lessons'

				ScreenManager:  							#Lessons item screenmanager
					id: lessons_screens_manager

					Screen:   	
					

						canvas.before:
							Color:
								rgba: rgba('#0e1574ff')
							Triangle:
								points: [0, self.size[1], self.size[0], self.size[1], 0, self.size[1] - (.5*self.size[1])]							#Lessons first screen

						name: 'lessons_home_screen'
						id: lessons_home_screen

						MDBoxLayout:


							orientation: 'vertical'
							MDToolbar:
								id: lessons_home_toolbar
								title: 'Դասեր'


							ScrollView:
								do_scroll_x: False
								do_scroll_y: True
								
								LessonsHomeWidget: 					#Lessons home widget
									id: lessons_home_widget

					Screen:  								#Lessons second screen

						name: 'lessons_more_screen'
						id: lessons_more_screen


						MDBoxLayout: 
							orientation: 'vertical'

							MDToolbar:
								id: lessons_more_toolbar
								left_action_items: [["arrow-left", lambda x: app.lessons_back_button(self)]]

							LessonsMoreWidget: 					#Lessons more widget
								id: lessons_more_widget




			MDBottomNavigationItem:
				name: 'tests_item'
				id: tests_bottom_navigation_item
				text: 'Tests'

				ScreenManager:
					id: test_screens_manager

					Screen:
						name: 'tests_home_screen'
						id: tests_home_screen


						ScrollView:
							do_scroll_x: False
							do_scroll_y: True

							TestsHomeWidget:

								id: tests_home_widget


					Screen:


						name: 'tests_more_screen'
						id: 'tests_more_screen'

						MDBoxLayout:

							orientation: 'vertical'	
							
							MDToolbar:
								id: tests_more_screen_toolbar
								left_action_items: [["arrow-left", lambda x: app.tests_back_button(self)]]

							ScrollView:

								do_scroll_x: False
								do_scroll_y: True

								TestMoreWidget:
									id: test_more_widget

					Screen:

						name: 'tests_last_screen'
						id: tests_last_screen


			MDBottomNavigationItem:
				name: 'favorites_item'
				#id: favorites_bottom_navigation_item
				text: 'Favorites'


				ScreenManager:

					id: favorites_screens_manager

					Screen:

						name: 'favorites_home_screen'
						id: favorites_home_screen

						
						MDBoxLayout:
							orientation: 'vertical'
							
							MDToolbar:
								id: favorites_home_toolbar
								title: 'Ֆավորիտներ'
						
							ScrollView:
								do_scroll_x: False
								do_scroll_y: True

								GridLayout:
									id: favorites_home_widget
									cols: 1
									size_hint_y: None
									height: root.height
					
					Screen:

						name: 'favorites_more_screen'
						id: favorites_more_screen

						
						MDBoxLayout:
							orientation: 'vertical'
							
							MDToolbar:
								id: favorites_more_toolbar
								title: 'Ֆավորիտներ'
								left_action_items: [["arrow-left", lambda x: app.favorites_back_button()]]


							MDBoxLayout:
								id: favorites_more_widget
								orientation: 'vertical'

			MDBottomNavigationItem:
				name: 'settings_item'
				id: settings_bottom_navigation_item
				text: 'Settings'

				MDRectangleFlatIconButton:
    				icon: "theme-light-dark"
    				text: "Change theme"
					pos_hint:{"top":1}
					size_hint_x: 1
					size_hint_y: .1
					on_release: app.change_theme(self)
				
				


RootWidget:

				
