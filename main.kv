#:include kv/lessons.kv
#:include kv/tests.kv
#:include kv/favorites.kv

<RootWidget>:
	id: manager

	Screen:
		name: 'home_screen'
		id: screen_id

		MDBottomNavigation:
			id: bottom_navigation

			MDBottomNavigationItem:  							#Lessons item
				name: 'lessons_item'
				id: lessons_bottom_navigation_item
				text: ''
				icon: 'gesture'

				ScreenManager:  							#Lessons item screenmanager
					id: lessons_screens_manager

					Screen:   	
					

						canvas.before:
							Color:
								rgba: rgba('#0e1574ff')
							Triangle:
								points: [0, self.size[1], self.size[0], self.size[1], 0, self.size[1] - (.5*self.size[1])]							#Lessons first screen

						name: 'lessons_home_screen'
						id: lessons_home_screen

						MDBoxLayout:


							orientation: 'vertical'
							MDToolbar:
								id: lessons_home_toolbar
								title: 'Դասեր'


							ScrollView:
								do_scroll_x: False
								do_scroll_y: True
								
								LessonsHomeWidget: 					#Lessons home widget
									id: lessons_home_widget

					Screen:  								#Lessons second screen

						name: 'lessons_more_screen'
						id: lessons_more_screen


						MDBoxLayout: 
							orientation: 'vertical'

							MDToolbar:
								id: lessons_more_toolbar
								left_action_items: [["arrow-left", lambda x: app.lessons_back_button(self)]]

							LessonsMoreWidget: 					#Lessons more widget
								id: lessons_more_widget




			MDBottomNavigationItem:
				name: 'tests_item'
				id: tests_bottom_navigation_item
				text: ''
				icon: 'ab-testing'

				ScreenManager:
					id: test_screens_manager

					Screen:
						name: 'tests_home_screen'
						id: tests_home_screen

						MDBoxLayout:
							orientation: 'vertical'
							MDToolbar:
								id:tests_home_toolbar
								title: 'Թեստեր'


							ScrollView:
								do_scroll_x: False
								do_scroll_y: True

								TestsHomeWidget:

									id: tests_home_widget


					Screen:


						name: 'tests_more_screen'
						id: 'tests_more_screen'

						MDBoxLayout:

							orientation: 'vertical'	
							
							MDToolbar:
								id: tests_more_screen_toolbar
								left_action_items: [["arrow-left", lambda x: app.tests_back_button(self)]]

							ScrollView:

								do_scroll_x: False
								do_scroll_y: True

								TestMoreWidget:
									id: test_more_widget

					Screen:

						name: 'tests_last_screen'
						id: tests_last_screen


			MDBottomNavigationItem:
				name: 'favorites_item'
				#id: favorites_bottom_navigation_item
				text: ''
				icon: 'heart'


				ScreenManager:

					id: favorites_screens_manager

					Screen:

						name: 'favorites_home_screen'
						id: favorites_home_screen

						
						MDBoxLayout:
							orientation: 'vertical'
							
							MDToolbar:
								id: favorites_home_toolbar
								title: 'Ֆավորիտներ'
						
							ScrollView:
								do_scroll_x: False
								do_scroll_y: True

								GridLayout:
									id: favorites_home_widget
									cols: 1
									size_hint_y: None
									height: root.height
					
					Screen:

						name: 'favorites_more_screen'
						id: favorites_more_screen

						
						MDBoxLayout:
							orientation: 'vertical'
							
							MDToolbar:
								id: favorites_more_toolbar
								title: 'Ֆավորիտներ'
								left_action_items: [["arrow-left", lambda x: app.favorites_back_button()]]


							MDBoxLayout:
								id: favorites_more_widget
								orientation: 'vertical'

			MDBottomNavigationItem:
				name: 'settings_item'
				id: settings_bottom_navigation_item
				text: ''
				icon: 'application-settings'


				MDGridLayout:

					cols: 1

					MDToolbar:
						id: settings_home_toolbar
						title: 'Կարգավորումներ'


					MDBoxLayout:
						orientation: 'horizontal'
						MDTextField:
							id: search_name
							adaptive_height: True
							font_name: app.font_name
							hint_text: 'Search gesture by name'

						MDIconButton:
							icon: 'magnify'
							on_release:
								app.search_gesture_in_database(root.ids.search_name.text)
					
					MDRectangleFlatIconButton:
						icon: "theme-light-dark"
						text: "Փոխել գունային սխեման"
						pos_hint:{"top":1}
						size_hint_x: 1
						size_hint_y: .2
						font_name: app.font_name
						on_release: app.change_theme(self)
				


RootWidget:

				
